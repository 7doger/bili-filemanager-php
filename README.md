# 哔哩PHP单文件管理器

一个功能完整、安全可靠的基于PHP的单文件管理器，支持文件管理、压缩/解压、上传/下载、内容编辑等功能。

## 📸 软件截图

| 文件管理 | 伪装页面 | 
| --- | --- | 
| ![文件管理界面](https://files.seeusercontent.com/2026/02/21/Tiq9/home.jpeg) | ![伪装页面](https://files.seeusercontent.com/2026/02/21/s3jV/cf0cda9.jpeg) | 

## 功能特性

### 🛡️ 安全特性
- **伪装页面**：显示404错误页面，需要输入正确的口令才能进入登录页面
- **用户认证**：管理员登录系统，保护文件安全
- **路径验证**：防止路径遍历攻击
- **操作日志**：详细记录所有用户操作
- **防止误删**：管理器文件本体在操作界面不可被选中和移动，且被隐藏
- **操作日志**：完整的操作日志功能，所有操作有迹可循
- **哈希密码**：明文密码自动转化为哈希值


### 📁 文件管理
- **浏览**：文件和目录的树形浏览
- **创建**：创建新目录
- **删除**：删除文件和目录
- **重命名**：重命名文件和目录
- **复制**：复制文件和目录
- **移动**：移动文件和目录
- **压缩**：将文件和目录压缩为ZIP文件
- **解压**：解压ZIP文件，支持覆盖检查
- **上传**：支持文件上传，可配置文件类型和大小限制
- **下载**：支持文件下载


### ✏️ 内容编辑
- **在线编辑**：支持文本文件的在线编辑
- **实时保存**：编辑后实时保存文件内容


## 安装方法

### 1. 直接下载
- 下载 `bili-filemanager.php` 文件到您的PHP服务器目录
- 确保服务器支持PHP 5.6+版本
- 确保目录有适当的读写权限

### 2. Git克隆
```bash
git clone https://github.com/7doger/bili-filemanager-php.git
cd bili-filemanager-php
```

## 使用说明

### 1. 访问应用
- 在浏览器中访问 `http://your-server/bili-filemanager.php`
- 首先看到404伪装页面
- 在搜索框中输入访问口令（默认为 `admin123` 可在源文件修改）

### 2. 登录系统
- 输入管理员账号：`admin`
- 输入管理员密码：`admin123`
- 点击登录按钮

### 3. 开始使用
- **浏览文件**：点击目录进入，点击面包屑导航返回
- **上传文件**：使用工具栏中的上传功能
- **创建目录**：使用工具栏中的创建目录功能
- **编辑文件**：点击文件旁边的编辑按钮
- **下载文件**：点击文件旁边的下载按钮
- **压缩文件**：选择文件后点击压缩按钮
- **解压文件**：点击ZIP文件旁边的解压按钮

## 配置选项

打开 `filemanager.php` 文件，修改以下配置选项：

```php
$config = array(
    // 伪装页面口令
    'fake_page_password' => 'admin123',  // 填写明文口令，首次运行自动转换为哈希值
    // 管理员账号密码
    'admin_username' => 'admin',
    'admin_password' => 'admin123',  //填写明文密码，首次运行自动转换为哈希值
    // 根目录路径
    'root_path' => __DIR__,
    // 日志文件路径
    'log_file' => __DIR__ . '/filemanager.log',
    // 允许的上传文件类型
    'allowed_extensions' => array('jpg', 'jpeg', 'png', 'gif', 'txt', 'php', 'html', 'css', 'js', 'zip', 'rar', '7z', 'pdf', 'doc', 'docx', 'xls', 'xlsx'),
    // 最大上传文件大小 (字节)
    'max_upload_size' => 10485760, // 10MB （此为上传文件限制，PHP配置的上传大小限制也需要相对于的修改）
    // 时区设置
    'timezone' => 'Asia/Shanghai'
);
```

## 安全注意事项

1. **修改默认密码**：安装后请立即修改默认的访问口令和管理员密码
2. **限制访问**：建议通过 `.htaccess` 或服务器配置限制访问IP
3. **文件权限**：确保服务器上的文件权限设置合理
4. **定期备份**：定期备份重要文件和日志
5. **更新检查**：关注项目更新，及时应用安全补丁

## 许可证

本项目采用 Apache 2.0 许可证 - 详情请参阅 [LICENSE](LICENSE) 文件

## 贡献指南

欢迎贡献代码、报告问题或提出建议！

## 技术栈

- **后端**：PHP 5.6+
- **前端**：HTML5, CSS3, JavaScript
- **压缩**：PHP ZipArchive 扩展

## 系统要求

- PHP 5.6 或更高版本
- PHP ZipArchive 扩展（用于压缩/解压功能）
- 支持 sessions 的 PHP 配置
- 适当的文件系统权限

## 常见问题

### Q: 上传文件失败怎么办？
A: 检查文件大小是否超过限制，文件类型是否在允许列表中，以及服务器是否有足够的权限。

### Q: 解压文件时提示覆盖确认怎么办？
A: 这是安全特性，确认后会覆盖同名文件。

### Q: 如何修改根目录？
A: 修改 `$config['root_path']` 配置选项。

### Q: 如何查看操作日志？
A: 日志文件默认位于 `filemanager.log`，可以使用文本编辑器查看。

## 联系方式

- **项目地址**：https://github.com/7doger/bili-filemanager-php
- **问题反馈**：https://github.com/7doger/bili-filemanager-php/issues